<?php

$root_ = realpath(dirname(__FILE__) . "/../../../../");

require $root_ . "/vendor/autoload.php";


// ----------------------------------------------------- 


 
use hahahalib\script\hahaha_file_deal as script;
use hahahalib\script\hahaha_file_deal_define_key as key;
use hahahalib\script\hahaha_file_deal_define_operator as op;

$src_ = realpath(dirname(__FILE__) . "/node_modules");
$dst_ = realpath($root_ . "/public/assets");

// echo $src_."\n".$dst_;
// return;

// -------------------------------------------- 
// 請參照hahaha_script_file_deal.php的正確寫法 
// -------------------------------------------- 

// -------------------------------------------- 
$list_ = [
	// -------------------------------------------- 
	"group1" => [
		// -------------------------------------------- 
		"item1" => [
			// -------------------------------------------- 
			// 刪除plugin
			// -------------------------------------------- 
			op::DELETE_TREE => [
				key::DIR => $dst_ . "/" . "plugin",
			],
		],
		"item2" => [
			// -------------------------------------------- 
			// 新增plugin
			// -------------------------------------------- 
			op::MKDIR => [
				key::DIR => $dst_ . "/" . "plugin",
				key::MODE => 0775,
			],
		],
		"item3" => [
			// -------------------------------------------- 
			// 處理插件位置
			// -------------------------------------------- 
			op::MOVE => [
				key::SRC => $src_ . "/" . "jquery",
				key::DST => $dst_ . "/plugin/" . "jquery",
			],
		],
		"item4" => [
			// -------------------------------------------- 
			// 刪除node_modules
			// -------------------------------------------- 
			op::DELETE_TREE => [
			 	key::DIR => $src_ ,
			],
			// -------------------------------------------- 
			// 
			// -------------------------------------------- 
		],
		// -------------------------------------------- 
	],
	// -------------------------------------------- 
];

$script_ = script::Instance();
$script_->Script($list_);

// ------------------------------------------------------------------------ 
